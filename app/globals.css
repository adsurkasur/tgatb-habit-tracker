@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
@import url('https://fonts.googleapis.com/icon?family=Material+Icons');
@import "tailwindcss"; /* Tailwind v4: use @import instead of @tailwind directives */
@import "tw-animate-css"; /* Tailwind v4 compatible animation utilities (replaces tailwindcss-animate plugin) */

/* Load JavaScript config file - required in Tailwind v4 (not auto-detected) */
@config "../tailwind.config.ts";

:root {
  /* Safe Area Variables for Mobile Apps */
  --status-bar-height: 0px;
  --safe-area-top: env(safe-area-inset-top, 0px);
  --safe-area-bottom: env(safe-area-inset-bottom, 0px);
  --safe-area-left: env(safe-area-inset-left, 0px);
  --safe-area-right: env(safe-area-inset-right, 0px);
  
  /* Material 3 Color System based on #6750A4 seed */
  --primary: hsl(256, 33%, 52%);
  --primary-container: hsl(259, 100%, 93%);
  --on-primary: hsl(0, 0%, 100%);
  --on-primary-container: hsl(256, 100%, 18%);
  
  --secondary: hsl(251, 14%, 41%);
  --secondary-container: hsl(258, 46%, 91%);
  --on-secondary: hsl(0, 0%, 100%);
  --on-secondary-container: hsl(251, 23%, 17%);
  
  --tertiary: hsl(336, 23%, 42%);
  --tertiary-container: hsl(337, 100%, 89%);
  
  /* Softened Light Theme - More muted and easier on eyes */
  --surface: hsl(0, 0%, 100%);
  --surface-variant: hsl(0, 0%, 98%);
  --on-surface: hsl(258, 8%, 15%);
  --on-surface-variant: hsl(251, 8%, 35%);
  
  --outline: hsl(251, 5%, 55%);
  --outline-variant: hsl(250, 8%, 85%);
  
  --success: hsl(122, 39%, 49%);
  --error: hsl(4, 90%, 58%);
  
  /* Legacy mappings for existing components - Softened */
  --header: hsl(0, 0%, 100%);
  --background: hsl(0, 0%, 100%);
  --foreground: hsl(258, 8%, 15%);
  --primary-foreground: hsl(0, 0%, 100%);
  --muted: hsl(271, 20%, 95%);
  --muted-foreground: hsl(251, 8%, 35%);
  --popover: hsl(0, 0%, 100%);
  --popover-foreground: hsl(258, 8%, 15%);
  --card: hsl(0, 0%, 100%);
  --card-foreground: hsl(258, 8%, 15%);
  --border: hsl(250, 8%, 85%);
  --input: hsl(250, 8%, 85%);
  --secondary: hsl(271, 20%, 95%);
  --secondary-foreground: hsl(258, 8%, 15%);
  --accent: hsl(271, 20%, 95%);
  --accent-foreground: hsl(258, 8%, 15%);
  --destructive: hsl(4, 90%, 58%);
  --destructive-foreground: hsl(0, 0%, 100%);
  --ring: hsl(258, 8%, 15%);
  --radius: 12px;
  
  /* Design System Custom Properties */
  --cta-bg: var(--header);
  --cta-border: hsl(var(--primary) / 0.3);
  --cta-hover-border: hsl(var(--primary) / 0.5);
  --cta-icon-bg: hsl(var(--primary) / 0.1);
  --cta-button-bg: hsl(256, 33%, 52%);
  --cta-button-hover: hsl(256, 33%, 45%);
}

.dark {
  /* Dark theme colors */
  --surface: hsl(258, 8%, 11%);
  --surface-variant: hsl(249, 7%, 19%);
  --on-surface: hsl(252, 11%, 90%);
  --primary: hsl(256, 33%, 52%);
  --primary-container: hsl(256, 54%, 27%);
  
  /* Dark mode CTA colors */
  --cta-bg: hsl(258, 8%, 13%); 
  --cta-border: hsl(249, 7%, 25%);
  --cta-hover-border: hsl(249, 7%, 35%);
  --cta-button-bg: hsl(256, 33%, 52%);
  --cta-button-hover: hsl(256, 33%, 45%);
  
  /* Dark mode header */
  --header: hsl(258, 8%, 13%);
  
  /* Legacy mappings for dark theme */
  --background: hsl(258, 8%, 11%);
  --foreground: hsl(252, 11%, 90%);
  --primary-foreground: hsl(258, 100%, 18%);
  --muted: hsl(249, 7%, 19%);
  --muted-foreground: hsl(250, 12%, 81%);
  --popover: hsl(258, 8%, 11%);
  --popover-foreground: hsl(252, 11%, 90%);
  --card: hsl(258, 8%, 11%);
  --card-foreground: hsl(252, 11%, 90%);
  --border: hsl(249, 7%, 35%);
  --input: hsl(249, 7%, 30%);
  --secondary: hsl(249, 7%, 19%);
  --secondary-foreground: hsl(252, 11%, 90%);
  --accent: hsl(249, 7%, 19%);
  --accent-foreground: hsl(252, 11%, 90%);
  --destructive: hsl(4, 90%, 58%);
  --destructive-foreground: hsl(0, 0%, 98%);
  --ring: hsl(250, 12%, 81%);
}

@layer base {
  /* Basic reset */
  *, *::before, *::after {
    box-sizing: border-box;
  }

  /* Preserve v3 default border color behavior by setting a sensible base border color */
  *, *::before, *::after, ::backdrop, ::file-selector-button {
    border-color: var(--border, currentColor);
  }

  body {
    @apply antialiased;
    background-color: var(--background);
    color: var(--foreground);
    font-family: 'Inter', sans-serif;
    /* Keep smooth transitions on the body only */
    transition: color 0.3s cubic-bezier(0.2, 0, 0, 1), 
                background-color 0.3s cubic-bezier(0.2, 0, 0, 1);
  }
}

/* Utilities are defined using @utility or top-level classes for Tailwind v4 compatibility */
  @utility surface-elevation-1 {
    box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.3), 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
  }
  
  @utility surface-elevation-2 {
    box-shadow: 0 0 30px rgba(103, 80, 164, 0.25),
                0 0 60px rgba(103, 80, 164, 0.1);
  }
  
  @utility surface-elevation-3 {
    box-shadow: 0px 4px 8px 3px rgba(0, 0, 0, 0.15), 0px 1px 3px rgba(0, 0, 0, 0.3);
  }
  
  .state-layer-hover:hover {
    background-color: rgba(103, 80, 164, 0.08) !important;
  }

  /* Dark mode hover effect - light purple */
  .dark .state-layer-hover:hover {
    background-color: rgba(171, 149, 255, 0.15) !important;
  }
  
  .state-layer-pressed:active {
    background-color: rgba(103, 80, 164, 0.12);
  }
  
  @utility material-radius {
    border-radius: 12px;
  }
  
  @utility material-radius-lg {
    border-radius: 16px;
  }
  
  @utility card-transition {
    transition: box-shadow 0.3s cubic-bezier(0.2, 0, 0, 1);
  }
  
  /* Habit Card Animations */
  /* Base class no longer applies animation directly to avoid double animations with directional slides */

  /* Initial mount animation (applied only on first render before any navigation) */
  @utility habit-card-initial {
    animation: habit-card-initial-in 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    animation-fill-mode: both;
  }
  
  @keyframes habit-card-initial-in {
    0% {
      opacity: 0;
      transform: translateX(10px) scale(0.995);
    }
    100% {
      opacity: 1;
      transform: translateX(0) scale(1);
    }
  }
  
  /* Slide from left (when moving to previous habit) */
  .habit-card-animated.slide-from-left {
    animation: habit-card-slide-from-left 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    animation-fill-mode: both;
  }
  
  @keyframes habit-card-slide-from-left {
    0% {
      opacity: 0;
      transform: translateX(-20px) scale(0.995);
    }
    100% {
      opacity: 1;
      transform: translateX(0) scale(1);
    }
  }
  
  /* Slide from right (when moving to next habit) */
  .habit-card-animated.slide-from-right {
    animation: habit-card-slide-from-right 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    animation-fill-mode: both;
  }
  
  @keyframes habit-card-slide-from-right {
    0% {
      opacity: 0;
      transform: translateX(20px) scale(0.995);
    }
    100% {
      opacity: 1;
      transform: translateX(0) scale(1);
    }
  }
  
  /* Hover effects - floating hover effect
   * Uses individual CSS properties (scale, translate) for Tailwind v4 compatibility.
   * ARCHITECTURE: Parent container does NOT scale. Inner .habit-card-surface scales.
   * This prevents layout shift and matches CTA card motion philosophy.
   */
  @utility habit-card-animated {
    /* Minimal shadow when not hovered */
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
    /* Container has no scaling transition - surface handles it */
    overflow: visible;
  }
  
  /* Inner surface animates instead of parent */
  .habit-card-surface {
    transition-property: scale, translate, box-shadow, background-color, border-color;
    transition-duration: 200ms;
    transition-timing-function: cubic-bezier(0.2, 0, 0, 1);
    scale: 1;
    translate: 0 0;
  }
  
  .habit-card-animated:hover .habit-card-surface {
    /* Subtle optical lift - micro-scale + shadow */
    scale: 1.015;
    translate: 0 -2px;
    box-shadow:
      rgba(103, 80, 164, 0.23) 0px 6px 24px,
      rgba(103, 80, 164, 0.12) 0px 0px 48px;
  }
  
  /* Dark mode hover effects */
  .dark .habit-card-animated {
    /* Minimal glow when not hovered in dark mode */
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2) !important;
  }
  
  .dark .habit-card-animated:hover .habit-card-surface {
    /* Strong purple glow on hover in dark mode */
    box-shadow:
      rgba(103, 80, 164, 0.45) 0px 6px 24px,
      rgba(103, 80, 164, 0.25) 0px 0px 48px;
  }
  
  /* Offline Toast Animation - uses individual translate property for Tailwind v4 */
  .animate-slide-up {
    animation: slide-up 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    animation-fill-mode: both;
  }
  
  .animate-slide-down {
    animation: slide-down 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    animation-fill-mode: both;
  }
  
  /* PWA Prompt Surface - animates independently of fixed anchor */
  .pwa-prompt-surface {
    transition-property: scale, box-shadow, opacity;
    transition-duration: 200ms;
    transition-timing-function: cubic-bezier(0.2, 0, 0, 1);
  }
  
  @keyframes slide-up {
    0% {
      opacity: 0;
      translate: 0 100px;
    }
    100% {
      opacity: 1;
      translate: 0 0;
    }
  }
  
  @keyframes slide-down {
    0% {
      opacity: 1;
      translate: 0 0;
    }
    100% {
      opacity: 0;
      translate: 0 100px;
    }
  }
  
  .drawer-overlay {
    backdrop-filter: blur(4px);
  }
  
  /* CTA Component Styles - uses individual CSS properties for Tailwind v4 */
  @utility cta-card {
    background: var(--cta-bg);
    /* Minimal shadow when not hovered */
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
    transition: box-shadow 0.2s cubic-bezier(0.2, 0, 0, 1), 
                scale 0.2s cubic-bezier(0.2, 0, 0, 1), 
                translate 0.2s cubic-bezier(0.2, 0, 0, 1);
  }
  
  .cta-card:hover {
    /* Floating hover effect using individual CSS properties */
    scale: 1.02;
    translate: 0 -4px;
    box-shadow: 0 8px 30px rgba(103, 80, 164, 0.25), 0 4px 12px rgba(0, 0, 0, 0.15);
  }
  
  /* Dark mode CTA card effects */
  .dark .cta-card {
    /* Minimal glow when not hovered in dark mode */
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2) !important;
  }
  
  .dark .cta-card:hover {
    /* Strong purple glow on hover in dark mode */
    scale: 1.02;
    translate: 0 -4px;
    box-shadow: 0 8px 30px rgba(103, 80, 164, 0.5), 0 4px 12px rgba(0, 0, 0, 0.6) !important;
  }
  
  /* Enhanced CTA Card Animations */
  .cta-card-animated {
    animation: cta-card-pulse 3s ease-in-out infinite;
  }
  
  .cta-card-animated:hover {
    animation: none;
  }

  /* Animation utilities are now provided by tw-animate-css import above.
     That package provides: animate-in, animate-out, fade-in-*, fade-out-*,
     zoom-in-*, zoom-out-*, slide-in-from-*, slide-out-to-*, etc.
     No manual definitions needed here. */
  
  @keyframes cta-card-pulse {
    0%, 100% {
      box-shadow: 0 4px 20px rgba(103, 80, 164, 0.2), 
                  0 0 40px rgba(103, 80, 164, 0.1);
    }
    50% {
      box-shadow: 0 6px 25px rgba(103, 80, 164, 0.25), 
                  0 0 50px rgba(103, 80, 164, 0.12);
    }
  }
  
  /* CTA Icon Animations - uses explicit properties for Tailwind v4 compatibility */
  .cta-icon-container {
    transition: background-color 0.25s cubic-bezier(0.2, 0, 0, 1), 
                scale 0.25s cubic-bezier(0.2, 0, 0, 1);
  }
  
  .cta-card:hover .cta-icon-container {
    background-color: hsl(var(--primary) / 0.15);
    scale: 1.05;
  }
  
  /* CTA Sparkle Animation - uses transform in keyframes (isolated, no conflict) */
  .cta-sparkle {
    animation: sparkle 2s ease-in-out infinite;
  }
  
  @keyframes sparkle {
    0%, 100% {
      opacity: 0.7;
      scale: 1;
    }
    50% {
      opacity: 1;
      scale: 1.2;
    }
  }
  
  /* CTA Button - uses individual CSS properties */
  @utility cta-button {
    background: var(--cta-button-bg);
    color: white;
    transition: background-color 0.3s cubic-bezier(0.2, 0, 0, 1), 
                scale 0.2s cubic-bezier(0.2, 0, 0, 1);
  }
  
  .cta-button:hover {
    background: var(--cta-button-hover);
    scale: 1.02;
  }
  
  /* Enhanced CTA Button Animations */
  .cta-button-animated {
    position: relative;
    overflow: hidden;
  }
  
  .cta-button-animated::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left 0.5s;
  }
  
  .cta-button-animated:hover::before {
    left: 100%;
  }
  
  .dark .cta-button {
    color: hsl(var(--primary-foreground));
  }
  
  /* Floating Action Button - uses individual CSS properties */
  @utility fab {
    background: var(--cta-button-bg) !important;
    color: white !important;
    box-shadow: 0 4px 12px rgba(103, 80, 164, 0.3);
    transition: background-color 0.3s cubic-bezier(0.2, 0, 0, 1), 
                box-shadow 0.3s cubic-bezier(0.2, 0, 0, 1),
                scale 0.3s cubic-bezier(0.2, 0, 0, 1);
  }
  
  .fab:hover {
    background: var(--cta-button-hover) !important;
    box-shadow: 0 6px 20px rgba(103, 80, 164, 0.4);
    scale: 1.05;
  }
  
  /* Enhanced FAB Animations - transform in keyframes is isolated */
  .fab-animated {
    position: relative;
    overflow: hidden;
  }
  
  .fab-animated::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 50%;
    translate: -50% -50%;
    transition: width 0.3s ease, height 0.3s ease;
  }
  
  .fab-animated:active::after {
    width: 200%;
    height: 200%;
  }
  
  /* State change animation for FAB - keyframe animations are isolated */
  .fab-animated {
    animation: fab-appear 0.4s cubic-bezier(0.2, 0, 0, 1);
  }
  
  @keyframes fab-appear {
    0% {
      opacity: 0;
      scale: 0.3;
      rotate: -180deg;
    }
    100% {
      opacity: 1;
      scale: 1;
      rotate: 0deg;
    }
  }
  
  /* Pulsing effect for new FAB */
  .fab-animated:not(:hover) {
    animation: fab-appear 0.4s cubic-bezier(0.2, 0, 0, 1), 
               fab-pulse 2s ease-in-out 0.5s infinite;
  }
  
  @keyframes fab-pulse {
    0%, 100% {
      box-shadow: 0 4px 12px rgba(103, 80, 164, 0.3);
    }
    50% {
      box-shadow: 0 6px 16px rgba(103, 80, 164, 0.4);
    }
  }
  
  .dark .fab {
    color: white !important;
  }
  
  /* Dark mode header glow */
  .dark .surface-elevation-2 {
    box-shadow: 0 0 40px rgba(103, 80, 164, 0.3),
                0 0 80px rgba(103, 80, 164, 0.15);
  }

  
  /* Theme transition enhancement */
  .theme-transition {
    transition: all 0.3s cubic-bezier(0.2, 0, 0, 1);
  }
  
  /* Page transition animations */
  .page-content {
    transition: all 0.3s cubic-bezier(0.2, 0, 0, 1);
  }
  
  /* Loading state for content changes */
  .content-loading {
    opacity: 0.7;
    transform: scale(0.98);
  }
  
  /* Smooth page transitions */
  .main-content-container {
    transition: opacity 0.2s ease-in-out;
  }
  
  /* Cycling indicator animation (subtle) */
  @keyframes cycling-indicator {
    0%, 100% {
      opacity: 0.5;
    }
    50% {
      opacity: 1;
    }
  }
  
  .cycling-active {
    animation: cycling-indicator 1s ease-in-out;
  }

  /* Navigation button animations */
  /* CTA color-only hover utility (no elevation) */
  .cta-color-hover {
    background: var(--cta-button-bg);
    color: white;
    transition: background-color 0.18s ease;
  }

  .cta-color-hover:hover {
    background: var(--cta-button-hover);
  }
  
  /* Navigation button transitions for smooth hover/active effects */
  .nav-button {
    transition: scale 0.15s cubic-bezier(0.2, 0, 0, 1), 
                box-shadow 0.2s cubic-bezier(0.2, 0, 0, 1),
                background-color 0.15s ease;
  }
  
  .nav-button:active {
    /* Use individual scale property to compose with Tailwind v4's translate */
    scale: 0.95;
  }
  
  /* Dark mode navigation button effects */
  .dark .nav-button {
    /* Minimal glow when not hovered in dark mode */
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2) !important;
  }
  
  .dark .nav-button:hover {
    /* Strong purple glow on hover in dark mode */
    box-shadow: 0 8px 30px rgba(103, 80, 164, 0.5), 0 4px 12px rgba(0, 0, 0, 0.6) !important;
  }
  /* Mobile responsive navigation buttons */
  @media (max-width: 640px) {
    .nav-button {
      position: relative !important;
      left: auto !important;
      right: auto !important;
      top: auto !important;
      transform: none !important;
      margin: 0 8px;
    }
    
    .nav-container-mobile {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 16px;
      width: 100%;
    }
    
    .habit-card-mobile {
      flex: 1;
      max-width: none;
    }
  }

  /* Disable hover effects */
  .no-hover:hover {
    background-color: transparent !important;
    opacity: 1 !important;
  }

  /* Enhanced collapsible animations - uses individual CSS properties */
  .collapsible-item {
    transition: translate 0.15s cubic-bezier(0.2, 0, 0, 1), 
                background-color 0.15s cubic-bezier(0.2, 0, 0, 1);
  }

  .collapsible-item:hover {
    /* Use individual translate property */
    translate: 1px 0;
    background-color: rgba(var(--muted), 0.8);
  }

  /* Smooth accordion item entrance animation */
  @keyframes fadeInSlideUp {
    from {
      opacity: 0;
      translate: 0 6px;
    }
    to {
      opacity: 1;
      translate: 0 0;
    }
  }

  /* Optimized closing animation to prevent lag */
  .collapsible-closing {
    animation: fadeOutSlideDown 0.15s ease-in forwards;
  }

  @keyframes fadeOutSlideDown {
    from {
      opacity: 1;
      translate: 0 0;
    }
    to {
      opacity: 0;
      translate: 0 -4px;
    }
  }

  /* Sidebar accordion trigger enhanced animations */
  .accordion-trigger {
    transition: background-color 0.1s ease-out;
  }

  .accordion-trigger:hover {
    background-color: rgba(var(--muted), 0.5) !important;
  }

  /* Badge count animations - uses individual scale property */
  .badge-count {
    transition: scale 0.15s cubic-bezier(0.2, 0, 0, 1);
  }

  .badge-count.updated {
    animation: pulse-badge 0.2s ease-out;
  }

  @keyframes pulse-badge {
    50% {
      scale: 1.05;
    }
  }

  /* Mobile full-screen dialog override
     IMPORTANT: Only affects dialogs that explicitly opt-in via [data-mobile-fullscreen].
     Standard dialog/sheet overlays should keep their bg-black/80 background. */
  @media (max-width: 640px) {
    /* For dialogs with [data-mobile-fullscreen], hide the overlay and make content fullscreen */
    [data-mobile-fullscreen] ~ [data-radix-dialog-overlay],
    [data-mobile-fullscreen] ~ .fixed.inset-0 {
      background-color: transparent !important;
    }
    
    /* Target the actual dialog content when it has the fullscreen attribute */
    [data-mobile-fullscreen] {
      position: fixed !important;
      top: 0 !important;
      left: 0 !important;
      right: 0 !important;
      bottom: 0 !important;
      width: 100vw !important;
      height: 100vh !important;
      max-width: none !important;
      max-height: none !important;
      margin: 0 !important;
      border-radius: 0 !important;
      transform: none !important;
      border: none !important;
      box-shadow: none !important;
    }
  }

  /* Loading and Theme Transition Enhancements */
  
  /* Smooth theme transitions */
  html {
    transition: color-scheme 0.3s ease;
  }
  
  /* Prevent flash of unstyled content */
  body:not(.app-loaded) {
    opacity: 0;
  }
  
  body.app-loaded {
    opacity: 1;
    transition: opacity 0.4s ease-out;
  }
  
  /* Loading screen animations */
  @keyframes loadingPulse {
    0%, 100% {
      transform: scale(1);
      opacity: 1;
    }
    50% {
      transform: scale(1.05);
      opacity: 0.8;
    }
  }
  
  @keyframes loadingSlideUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  /* Enhanced theme transition: apply to all elements for smooth dark/light mode toggle */
  /* Uses specific properties to avoid interfering with layout animations */
  *, *::before, *::after {
    transition: background-color 0.2s cubic-bezier(0.2, 0, 0, 1),
                border-color 0.2s cubic-bezier(0.2, 0, 0, 1),
                color 0.2s cubic-bezier(0.2, 0, 0, 1),
                box-shadow 0.2s cubic-bezier(0.2, 0, 0, 1),
                fill 0.2s cubic-bezier(0.2, 0, 0, 1),
                stroke 0.2s cubic-bezier(0.2, 0, 0, 1);
  }

  /* Override transition for specific elements that need faster/different transitions */
  .theme-transition {
    transition: all 0.3s cubic-bezier(0.2, 0, 0, 1) !important;
  }
  
  /* Loading screen specific styles */
  .loading-screen-enter {
    animation: loadingSlideUp 0.6s ease-out;
  }
  
  .loading-screen-exit {
    animation: fadeOutUp 0.4s ease-in forwards;
  }
  
  @keyframes fadeOutUp {
    from {
      opacity: 1;
      transform: translateY(0);
    }
    to {
      opacity: 0;
      transform: translateY(-20px);
    }
  }

/* End of utilities */

/* Mobile Dialog Optimizations */
@media (max-width: 767px) {
  /* Prevent zoom on input focus on iOS */
  input[type="text"],
  input[type="email"],
  input[type="number"],
  input[type="password"],
  textarea,
  select {
    font-size: 16px !important;
  }
  
  /* Better touch targets */
  button,
  [role="button"] {
    min-height: 44px;
    min-width: 44px;
  }
  
  /* Prevent rubber band scrolling on iOS when dialog is open */
  body.dialog-open {
    position: fixed;
    overflow: hidden;
    width: 100%;
  }
  
  /* Ensure dialog content is properly contained */
  [data-radix-popper-content-wrapper] {
    max-height: 100vh !important;
    overflow: hidden;
  }
}

  /* Global Scrollbar Styling */
  /* Chrome, Edge, Safari */
  ::-webkit-scrollbar {
    width: 3px;
    height: 3px;
  }
  ::-webkit-scrollbar-thumb {
    background: var(--primary);
    border-radius: 8px;
    border: 2px solid var(--surface);
  }
  ::-webkit-scrollbar-track {
    background: var(--surface-variant);
    border-radius: 8px;
  }

  /* Firefox */
  html {
    scrollbar-width: thin;
    scrollbar-color: var(--primary) var(--surface-variant);
  }

  /* Dark mode overrides */
  .dark ::-webkit-scrollbar-thumb {
    background: var(--primary);
    border: 2px solid var(--surface);
  }
  .dark ::-webkit-scrollbar-track {
    background: var(--surface-variant);
  }
  .dark html {
    scrollbar-color: var(--primary) var(--surface-variant);
  }
